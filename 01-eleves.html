<!doctype html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Exo d'Algo(Part 4) - #01 - Les élèves</title>
    <link href="./css/style.css" rel="stylesheet" />
    <script type="text/javascript" src="./js/eleve.js"></script>
</head>

<body>
    <div class="card">
        <p class="h6 font-weight-bold text-center">#01 - Les élèves</p>
        <div class="instructions">
            <p class="text-secondary">Le script que vous avez enregistré dans <em>eleve.js</em>(répertoire js) est
                inclus dans ce fichier html ;
                la classe (ou fonction de construction) que vous avez créé(e) est donc utilisble depuis ce fichier html.
            </p>
            <ul class="text-secondary">
                <li>Dans la zone encadrée par les balises &lt;script&gt; &lt;/script&gt;, écrire les instructions qui
                    permettent :
                    <ul>
                        <li>
                            De créer les objets élèves pierreDupont, marieFontaine, johnHunter.<br>
                            Vous leur attribuerez le nom et le prénom qui semblent en accord avec
                            le nom de la variable choisi pour les identifier.<br>
                            Vous leur attribuerez la classe (Kercode, CDA, CDUI ou BTS SIO) de votre choix.<br>
                            <p class="text-danger">Les objets élèves seront rangés dans le tableau du groupe des élèves,
                                déjà déclaré et défini.</p>
                        </li>
                        <li>
                            De lire le prénom de l'objet pierreDupont et de l'afficher dans la console,
                        </li>
                        <li>
                            De lire la classe de marieFontaine et de l'afficher dans la console,
                        </li>
                        <li>
                            D'attribuer à marieFontaine et à johnHunter leur première note en maths,
                        </li>
                        <li>
                            D'attribuer à tous les élèves connus leur première note en algorithmique.<br>
                            L'attribution doit être faite de manière automatique par itération sur le groupe des
                            élèves...
                            (Ne voyez-vous pas une boucle là-dessous ?)<br>
                            La note sera aléatoirement choisie entre 0 et 20 (indice : voir la méthode random
                            de l'objet global JavaScript Math)
                        </li>
                        <li>
                            De calculer la moyenne en algorithmique de tous les élèves et de l'afficher dans la console
                        </li>
                    </ul>
                </li>
                <li>
                    Ouvrir la console (dans votre navigateur ou depuis le débugueur de VSCode) et recharger votre
                    code.<br>
                    Pour rappel, les instructions ayant été écrites hors de toute fonction, sont exécutées au chargement
                    de la page !!!
                    <p class="text-success">Tous les résultats devraient être dans la console !</p>
                    <p>N'hésitez pas à utiliser cette console pour interroger les objets,
                        pour débuguer ou par curiosité.</p>
                </li>
            </ul>
        </div>


        <script type="text/javascript">
            // tableau vide pour recevoir des données plus tard
            let groupeEleves = [];
            // Créations de différents objets "Eleve" en lien avec eleve.js
            let pierreDupont = new Eleve("Dupont", "Pierre", "Kercode");

            let marieFontaine = new Eleve("Fontaine", "Marie", "Kercode");

            let johnHunter = new Eleve("Hunter", "John", "Kercode");

            // Envoi des données Eleve dans le tableau
            groupeEleves.push(pierreDupont, marieFontaine, johnHunter)
            // affichage de resultat dans la console
            console.log(pierreDupont.prenom)
            console.log(marieFontaine.classe)

            // fonction de création de note aléatoire
            function randomNote(max) {
                return Math.floor(Math.random() * max);
            }
            // création de notes via la fonction "randomNote" en "math" et envoi dans le tableau
            marieFontaine.notes.maths.push(randomNote(21));
            johnHunter.notes.maths.push(randomNote(21));
            // Affichage des resultats dans la console
            console.log(marieFontaine.notes.maths)
            console.log(johnHunter.notes.maths)

            /* 
             * Utilisation de la boucle forEach combiné a la fonction randomNote 
             * pour envoyer des notes dans le tableau pour la matiére "Algo"
            */
            groupeEleves.forEach(function (eleve) {
                eleve.notes.algorithmique.push(randomNote(21));
            })
            // utilisation de la fonction créer sur eleve.js pour l'ajout de note
            pierreDupont.addNoteAlgo((randomNote(21)));

            // boucle for pour calculer la somme des notes "Algo"
            // création de "sum" pour recuperer la somme des notes
            let sum = 0;
            // création de "number" pour stocker le nombre de note
            let number = 0;
            // création de "averageNote" pour récuperer la moyenne
            let averageNotes = 0;
            // boucle for qui voyage dans groupeEleves
            for (let i = 0; i < groupeEleves.length; i++){
                // boucle for imbriquée dans la précédente pour parcours les notes en algo 
                for (let j= 0; j < groupeEleves[i].notes.algorithmique.length; j++) {
                    // +1 nombre de note
                    number +=1;
                    // somme de toutes les notes
                    sum += parseInt(groupeEleves[i].notes.algorithmique[j]);
                              
                }
            }
            console.log(sum);
            // calcul de la moyenne "algo" via le "sum" et le "number" obtenue au dessus
            averageNotes = (sum / number);
            // Affichage du resultat dans la console
            console.log(averageNotes);

            
        </script>
</body>

</html>